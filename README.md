# Анализатор погоды (Weather analyzer)

### **Для взаимодействия с приложением:**
1. Скачать репозиторий https://github.com/anpoliakov/wallet-service.git
2. В данном тестовом задании опустим момент регистрации на сайте https://openweathermap.org/ и получения key для обращения к API сервиса (используется мой).
3. В настройках проекта application.properties в поле api.weather.city - указываем город для анализа погоды.
4. В поле этого же файла api.weather.delay.scan - указываем время в миллисекундах, через которое будем запрашивать данные с API.
5. При запуске приложения с docker-compose, настройки базы данных не корректируем (запускаем проект командой _docker compose up_)
6. Если запуск происходит с использованием предустановленной БД (PostgreSQL) на машине пользователя - создать базу данных с именем weather_analyzer, а так же выделенного пользователя (предоставить пара к данной бд) с лог/пар : senla или же заменить настройки БД, в полях appliacation.properties.
7. В проекте используется Liquibase с предустановленными changesets - при измененнии настроек БД учесть обновление настроек данной библиотеки
8. Для запуска приложения использовать входную точку *by/anpoliakov/WeatherAnalyzerApplication.class*

### Первый endpoint:
**GET request** по адрессу http://localhost:8080/weather -> **response** JSON с последней актуальной инфомацией из БД
  
### Второй endpoint:
**POST request** по адрессу http://localhost:8080/weather c телом запроса формата JSON, содержащий:
`{  
 "from":"22-08-2021",   
 "to":"24-08-2021"  
} `  
и необязательно требование: заголовок Content-Type:application/json; charset=UTF-8 -> **response** JSON с среднесуточной информацией о погоде, в заданных датах.

#### Заметки:
* Запуск и разработка проекта производилась на Linux Ubuntu 22.04 c использованием IntelliJ IDEA
* Миграции баз данных
* Запуск с файла docker-compose.xml
* TODO:
* Дописать все unit тесты
* Создать отдельный класс ошибок при обработки данных в классе Controller
* провести доп рефакторинг
